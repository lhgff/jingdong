<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #box{
            width: 100px;
            height: 100px;
            background-color: red;
            position: absolute;
        }
    </style>
</head>
<body>
<button id="btn1">奔跑吧</button>
<div id="box"></div>

<script>
    var box = document.getElementById("box");
    var btn1 = document.getElementById("btn1");
    var btn2 = document.getElementById("btn2");
    var timer = null;
    btn1.onclick = function(){
        animate(box,"width",200);
    };

    function animate(tag,attr,target){
        clearInterval(tag,timer);
        tag.timer = setInterval(function(){
            var leader = parseInt(getStyle(tag,attr));
            var step = (target - leader) /10;
//            if(step > 0){
//                step = Math.ceil(step);
//            }else{
//                step = Math.floor(step);
//            }
            step = step > 0 ?　Math.ceil(step) : Math.floor(step);
            leader = leader + step;
            console.log("leader:" + leader + "step:" + step);
            tag.style[attr] = leader + "px";
            if(leader == target){
                clearInterval(tag,tomer);
            }
        },20);
    }

    function getStyle(tag,attr){
        return tag.currentStyle ? tag.currentStyle[attr] : getComputedStyle(tag,null)[attr];

    }
</script>
</body>
</html>

<!--<body>-->
<!--<button id="btn1">奔跑到200吧少年</button>-->
<!--&lt;!&ndash;<button id="btn2">奔跑到400吧少年</button>&ndash;&gt;-->
<!--<div id="box"></div>-->

<!--<script>-->
    <!--var box = document.getElementById("box");-->
    <!--var btn1 = document.getElementById("btn1");-->
    <!--var btn2 = document.getElementById("btn2");-->
    <!--var timer = null;-->

    <!--btn1.onclick = function () {-->
        <!--animate(box, "width", 200);-->
    <!--};-->

    <!--//    btn2.onclick = function () {-->
    <!--//        animate(box, 400);-->
    <!--//    };-->


    <!--function animate(tag, attr, target) {-->
        <!--clearInterval(tag.timer);-->
        <!--tag.timer = setInterval(function () {-->
            <!--//要设置任意样式，我们首先要获取样式当前的值-->
            <!--//由于是一个字符串，我们需要计算的话，要转换为数值-->
            <!--var leader = parseInt(getStyle(tag, attr));-->
            <!--//缓动动画公式就是动态的改变了每一次走的步长-->
            <!--var step = ( target - leader ) / 10-->
            <!--//需要根据steo的正负，来判断取整方式-->
            <!--//if (step > 0) {-->
            <!--//    step = Math.ceil(step);-->
            <!--//} else {-->
            <!--//    step = Math.floor(step);-->
            <!--//}-->

            <!--step = step > 0 ? Math.ceil(step) : Math.floor(step);-->
            <!--leader = leader + step-->
            <!--console.log("leader:" + leader + " step:" + step);-->
            <!--tag.style[attr] = leader + "px";-->
            <!--if (leader == target) {-->
                <!--clearInterval(tag.timer);-->
            <!--}-->
        <!--}, 20);-->

    <!--}-->

    <!--function getStyle(tag, attr) {-->
<!--//        if (tag.currentStyle) {-->
<!--//            return tag.currentStyle[attr];-->
<!--//        } else {-->
<!--//            return getComputedStyle(tag, null)[attr];-->
<!--//        }-->
        <!--return tag.currentStyle ? tag.currentStyle[attr] : getComputedStyle(tag, null)[attr];-->
    <!--}-->

    <!--//    console.log(getStyle(box, "width"));-->
<!--</script>-->
<!--</body>-->