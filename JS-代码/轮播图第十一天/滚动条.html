<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .box {
            width: 300px;
            height: 500px;
            border: 1px solid #ff37f5;
            margin: 100px;
            position: relative;
            overflow: hidden;
        }

        .one {
            padding: 5px 18px 5px 5px;
            position: absolute;
            top: 0;
            left: 0;

        }

        .two {
            width: 18px;
            height: 100%;
            position: absolute;
            top: 0;
            right: 0;
            background-color: #4aee4e;
        }

        .gdt {
            height: 100px;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-color: #3042ff;
            border-radius: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div class="box" id="box">
    <div class="one" id="one">
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，111111111111111
        我是文字内容，你是谁，你饿不饿是文字内容
        我是文字内容，你是谁，111111111111111
    </div>
    <div id="two" class="two">
        <div class="gdt" id="gdt"></div>
    </div>
</div>
<script src="common.js"></script>
<script>
    var box = myId("box");
    var one = myId("one");
    var two = myId("two");
    var gdt = myId("gdt");

    var bili = one.offsetHeight / two.offsetHeight;
    gdt.style.height = box.offsetHeight / bili + "px";

    gdt.onmousedown = function (e) {
        var e = getEvent(e);
        var y = getPageY(e) - box.offsetTop - gdt.offsetTop;
        document.onmousemove = function (innerE) {
            var innerE = getEvent(innerE);
            var moveY = getPageY(innerE) - y - box.offsetTop;
            moveY = moveY < 0 ? 0 : moveY;
            moveY = moveY > two.offsetHeight - gdt.offsetHeight ? two.offsetHeight - gdt.offsetHeight : moveY;
            gdt.style.top = moveY + "px";
            window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();
            one.style.top = -bili * moveY + "px";

        };
    };
    document.onmouseup = function(){
      document.onmousemove = null;
    };
</script>
</body>
</html>



<!--<body>-->
<!--<div class="box" id="box">-->
    <!--<div class="content" id="content">-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容 -->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，111111111111111-->
        <!--我是文字内容，你是谁，你饿不饿是文字内容-->
        <!--我是文字内容，你是谁，111111111111111-->
    <!--</div>-->
    <!--<div id="scroll" class="scroll">-->
        <!--<div class="bar" id="bar"></div>-->
    <!--</div>-->
<!--</div>-->
<!--<script src="common.js"></script>-->
<!--<script>-->
    <!--//获取页面元素-->
    <!--var box = myId("box");//这个是文字的壳-->
    <!--var content = myId("content"); //这个是文本-->
    <!--var scroll = myId("scroll"); //滚动条外面的壳-->
    <!--var bar = myId("bar");//滚动条-->
    <!--//第一步，计算滚动条的长度-->
    <!--//因为bar的长度不能随文本内容增减而改变，所以我们需要通过比例去计算bar的高度-->
    <!--var bili = content.offsetHeight / scroll.offsetHeight;-->
    <!--bar.style.height = box.offsetHeight / bili + "px";-->
    <!--//第二部-->
    <!--//让滚动条滚动-->
    <!--bar.onmousedown = function (e) {-->
        <!--var e = getEvent(e);-->
        <!--//通过观察完成后的案例，我们发现当滚动条被脱离了原始位置时，还需要计算bar到scroll顶部的距离-->
        <!--//计算出了鼠标在bar内的位置-->
        <!--var y = getPageY(e) - box.offsetTop - bar.offsetTop;-->
        <!--document.onmousemove = function (innerE) {-->
            <!--var innerE = getEvent(innerE);-->
            <!--//计算出拖动时，bar的位置-->
            <!--var moveY = getPageY(innerE) - y - box.offsetTop;-->
            <!--//给bar的位置设定上下限制-->
            <!--moveY = moveY < 0 ? 0 : moveY; //设定下限-->
            <!--//if(moveY<0){-->
            <!--//    moveY = 0;-->
            <!--//}-->
            <!--moveY = moveY > scroll.offsetHeight - bar.offsetHeight ? scroll.offsetHeight - bar.offsetHeight : moveY;-->
            <!--//if(moveY>scroll.offsetHeight-bar.offsetHeight){-->
            <!--//    moveY = scroll.offsetHeight-bar.offsetHeight;-->
            <!--//}-->
            <!--//设置位置-->
            <!--bar.style.top = moveY + "px";-->
            <!--//可以取消对文字的选中（不用记）-->
            <!--window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();-->
            <!--//设置content的移动-->
            <!--content.style.top = -bili * moveY + "px";-->
        <!--};-->
    <!--};-->
    <!--//松手部分-->
    <!--document.onmouseup = function () {-->
        <!--document.onmousemove = null;-->
    <!--};-->
<!--</script>-->
</body>