(function(){chrome.lego||(chrome.lego={});var d=chrome.runtime.getURL;chrome.lego.getFile=function(a,b){d?b(chrome.runtime.getURL(a)):chrome.runtime.sendMessage({type:"chrome.lego.getFile",path:a},b)};chrome.lego.getTextFile=function(a,b){chrome.runtime.sendMessage({type:"chrome.lego.getTextFile",path:a},b)};chrome.lego.getManifest=function(a){d?a(chrome.runtime.getManifest()):chrome.runtime.sendMessage({type:"chrome.lego.getManifest"},a)};chrome.lego.contentScriptGetBrowserVersion=function(a){chrome.runtime.sendMessage({type:"chrome.lego.contentScriptGetBrowserVersion"},
a)};var g=["value","value1","value2"];chrome.lego.contentScriptReport=function(a,b,c){var d={};g.forEach(function(a){if(c.hasOwnProperty?c.hasOwnProperty(a):a in c)d[a]=c[a]});chrome.runtime.sendMessage({type:"chrome.lego.contentScriptReport",reportName:a,reportType:b,reportData:"&"+$.param(d)})};chrome.lego.contentScriptGetBrowserActionVisibleState=function(a){chrome.runtime.sendMessage({type:"chrome.lego.contentScriptGetBrowserActionVisibleState"},a)};chrome.lego.contentScriptSetBrowserActionVisibleState=
function(a,b){chrome.runtime.sendMessage({type:"chrome.lego.contentScriptSetBrowserActionVisibleState",state:a},b)};if(!d){var e=Object.create(null);chrome.runtime.onMessage.addListener(function(a,b){if(b.id===chrome.runtime.id&&"chrome.lego.setInterval.callback"===a.type){var c=a.token;c&&(c=e[c])&&c()}})}chrome.lego.setTimeout=function(a,b){if(d)return setTimeout(a,b);var c=String(Date.now())+Math.random();e[c]=a;chrome.runtime.sendMessage({timeout:b,type:"chrome.lego.setTimeout",token:c},function(){c in
e&&a();delete e[c]});return c};chrome.lego.clearTimeout=function(a){if(d)return clearTimeout(a);delete e[a];chrome.runtime.sendMessage({type:"chrome.lego.clearTimeout",token:a})};chrome.lego.setInterval=function(a,b){if(d)return setInterval(a,b);var c=String(Date.now())+Math.random();e[c]=a;chrome.runtime.sendMessage({type:"chrome.lego.setInterval",interval:b,token:c});return c};chrome.lego.clearInterval=function(a){if(d)return clearInterval(a);delete e[a];chrome.runtime.sendMessage({type:"chrome.lego.clearInterval",
token:a})};chrome.lego.ajax=function(a,b){chrome.runtime.sendMessage({type:"chrome.lego.ajax",option:a},b)};var f={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},h=/&|<|>|"|'|\//g;$.extend($,{escapeHTML:function(a){if(a.replace)return a.replace(h,function(a){return f.hasOwnProperty(a)?f[a]:a})},addCss:function(a){var b=document.createElement("style");b.setAttribute("type","text/css");b.styleSheet?b.styleSheet.cssText=a:b.innerHTML=a;document.head.appendChild(b)}})})();
